Нужно реализовать следующие действия для карточки/строки в списке:

1) Тап (обычное нажатие)

Открывает экран редактирования выбранной записи.

2) Свайпы по карточке

Сделать два действия через swipe actions:

Свайп влево → “Завершить/Выполнено”

При свайпе показывается кнопка “Завершить” (или “Выполнено”, зависит от статуса).

Нажатие подтверждает выполнение: статус записи меняется на done (если уже done — можно сделать “Вернуть” или просто скрыть кнопку).

После действия карточка остаётся в списке и визуально обновляется.

Свайп вправо → “Удалить”

При свайпе показывается кнопка “Удалить”.

При нажатии — удалить запись.

Перед удалением показать подтверждение (alert) “Удалить?” / “Отмена/Удалить”.

Важно: направления именно такие: влево = завершить, вправо = удалить.

3) Long press (нажал и держу)

Должен открывать режим “управления” с вариантами:

“Редактировать”

“Удалить”

“Завершить”

“Выбрать” (включить множественный выбор)

Поведение long press (мультивыбор)

При долгом нажатии автоматически включается режим множественного выбора.

На карточках появляется UI выбора (чекбоксы или выделение).

Верхняя панель (toolbar) меняется на режим выбора:

кнопка “Выбрать все”

кнопка “Удалить”

Кнопка “Удалить” сверху должна быть неактивна, пока не выбрана хотя бы 1 запись.

Если пользователь выбрал хотя бы одну запись — кнопка “Удалить” становится активной.

“Выбрать все” выделяет все записи текущего списка (с учётом фильтра/поиска, если они есть).

Удаление в режиме мультивыбора:

по нажатию “Удалить” — подтверждение (alert) и удаление всех выбранных.

после удаления режим выбора выключается, если выбранных больше нет.

4) Правила приоритетов жестов

Tap всегда редактирует (если не включён режим выбора).

Long press включает режим выбора и показывает действия.

В режиме выбора tap по карточке должен выбирать/снимать выбор, а не открывать редактирование.

Свайпы можно:

либо отключить в режиме выбора,

либо оставить, но так, чтобы не мешали выбору (предпочтительно отключить, чтобы UX был чистый).

5) Визуальные требования

Завершённые записи должны визуально отличаться (например: приглушённый текст/иконка).

Действия свайпа должны быть понятные: иконка + подпись.

Верхняя панель в режиме выбора должна явно показывать “X выбрано”.

6) Требования к данным

Завершение — это изменение поля статуса/выполнено в данных.

Удаление — удаляет запись из хранилища.

Мультиудаление — одним действием удаляет несколько записей.